{"version":3,"sources":["main.coffee","controllers/SchemaFormCtrl.coffee","controllers/SiteIndexCtrl.coffee","directives/consolePanel.coffee","directives/onCtrlS.coffee","routes/schema.coffee","routes/site.coffee","services/CoAuth.coffee","services/FormatJsonView.coffee","services/SocketConnect.coffee","services/WindowInfo.coffee"],"names":[],"mappings":"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","file":"app.min.js","sourcesContent":["StartApp = require '../actions/StartApp'\r\nCreateSequelize = require('../actions/CreateSequelize')\r\nRunTest = require('../actions/RunTest')\r\n\r\napp = angular.module(\"WEBYI\", [\"ngSanitize\", \"ui.router\", \"ngMessages\"])\r\n.config(($locationProvider, $urlRouterProvider) ->\r\n\t# html5Mode需要服务端配合指向\r\n\t# $locationProvider.html5Mode(true).hashPrefix('!');\r\n\t$urlRouterProvider.otherwise \"/site/index\"\r\n).run(($rootScope, $state, CoAuth, WindowInfo) ->\r\n\t$rootScope.$state = $state\r\n\t$rootScope.CoAuth = CoAuth\r\n\t$rootScope.WindowInfo = WindowInfo\r\n)","# 数据模型控制器\r\napp.controller 'SchemaFormCtrl', ($scope, SchemaModel, $state)->\r\n\r\n\t$scope.schema = new SchemaModel()\r\n\t\t\r\n\t$scope.field_types = SchemaModel.field_types\r\n\t$scope.schemas = []\r\n\r\n\t$scope.addField = ->\r\n\t\t$scope.schema.addField()\r\n\t\tconsole.log $scope.schema, $scope.schema.get('fields')\r\n\r\n\t$scope.delField = (index)->\r\n\t\t$scope.schema.fields.splice index,1\r\n\r\n\t$scope.addEnum = (field)->\r\n\t\tfield.enums.push\r\n\t\t\tvalue: ''\r\n\t$scope.delEnum = (field, index)->\r\n\t\tfield.enums.splice index,1\r\n\r\n\t$scope.save = ()->\r\n\t\tSchemaModel.save $scope.schema\r\n\t\t.then (res)->\r\n\t\t\t$state.go 'schema.update',\r\n\t\t\t\t_id: res._id\r\n\t\t\treturn res\r\n\t\t.then (doc)->\r\n\t\t\tsocket.emit 'RunSchameTest', doc\r\n\t\t.fail (err)->\r\n\t\t\tconsole.log err\r\n\t\t.done()","\r\napp.controller 'SiteIndexCtrl', ($scope, $element, WindowInfo)->\r\n\r\n\tproject_path = 'E:/htdocs/Co-sumaitong/src/trunk5/'\r\n\t$scope.joinAppAndStart = ->\r\n\t\tStartApp.run project_path, (data)->\r\n\t\t\t$scope.$broadcast 'console:message', data\r\n\t# 创建模式\r\n\t$scope.createSchemas = ->\r\n\t\tCreateSequelize.createSchemas project_path, (data)->\r\n\t\t\t$scope.$broadcast 'console:message', data\r\n\t# 创建模型\r\n\t$scope.createModels = ->\r\n\t\tCreateSequelize.createModels project_path, (data)->\r\n\t\t\t$scope.$broadcast 'console:message', data\r\n\t# 创建路由\r\n\t$scope.createRouters = ->\r\n\t\tCreateSequelize.createRouters project_path, (data)->\r\n\t\t\t$scope.$broadcast 'console:message', data\r\n\t# 生成测试文件\r\n\t$scope.createModelTests = ->\r\n\t\tCreateSequelize.createModelTests project_path, (data)->\r\n\t\t\t$scope.$broadcast 'console:message', data\r\n\t# 运行测试用例\r\n\t# params: {file:'test/models/a.test.js', grep: 'models.xxx'}\r\n\t$scope.runTest = (params)->\r\n\t\tRunTest.run project_path, params, (data)->\r\n\t\t\t$scope.$broadcast 'console:message', data\r\n\t# 停止所有测试\r\n\t$scope.stopAllTest = ->\r\n\t\tRunTest.closeAll (data)->\r\n\t\t\t$scope.$broadcast 'console:message', data\r\n\t# 运行的项目列表\r\n\t$scope.running_list = _.keys(StartApp.services)\r\n\t# 测试用例列表\r\n\tRunTest.getTestTree(project_path).then (res)->\r\n\t\t$scope.$apply ->\r\n\t\t\t$scope.test_list = res\r\n\t","###\r\n控制台面板\r\n<div console-panel name=\"message\"></div>\r\n示例：$scope.$broadcast 'console:message', '11111111111'\r\n###\r\n\r\napp.directive 'consolePanel', (FormatJsonView)->\r\n\t# require: [\"^?form\", \"ngModel\"]\r\n\trestrict: \"AE\"\r\n\treplace: true\r\n\t# templateUrl: \"templates/directives/kt_radio.html\"\r\n\ttemplate: '<div></div>'\r\n\t# transclude: true,\r\n\tscope: true\r\n\r\n\tlink: (scope, element, attrs, ctrl) ->\r\n\t\t$(element).css\r\n\t\t\theight:  '100%'\r\n\t\t\toverflow:'auto'\r\n\t\t\tbackground:'#101010'\r\n\t\t\tfloat: 'left'\r\n\t\t\twidth: '55%'\r\n\r\n\t\trow_number = 0\r\n\t\taddData = (data) ->\r\n\t\t\tif typeof (data) is \"object\"\r\n\t\t\t\t# data = JSON.stringify(data)\r\n\t\t\t\tdata = FormatJsonView data\r\n\t\t\telse data = ansi2html($('<div/>').text(data).html())  if typeof (data) is \"string\"\r\n\t\t\tlog = undefined\r\n\t\t\trow_number++\r\n\t\t\t\r\n\t\t\t# var textNode = $(document.createTextNode(ansi2html(data)));\r\n\t\t\tif $(element).find(\".log-line\").length < 200\r\n\t\t\t\tlog = $(document.createElement(\"div\")).addClass(\"log-line\").css(position: \"relative\")\r\n\t\t\telse\r\n\t\t\t\tlog = $(element).find(\".log-line:first\").html(\"\")\r\n\t\t\tlog.appendTo element\r\n\t\t\tpre = $(\"<pre></pre>\").css(\r\n\t\t\t\tpaddingLeft: 55\r\n\t\t\t\tfontSize: 14\r\n\t\t\t).html(data).appendTo(log)\r\n\t\t\t$(\"<p>\" + row_number + \"</p>\").css(\r\n\t\t\t\tposition: \"absolute\"\r\n\t\t\t\tmargin: 0\r\n\t\t\t\ttextAlign: \"right\"\r\n\t\t\t\tpaddingRight: 5\r\n\t\t\t\tleft: 0\r\n\t\t\t\twidth: 50\r\n\t\t\t\ttop: 0\r\n\t\t\t\tbottom: 0\r\n\t\t\t\tbackground: \"#292929\"\r\n\t\t\t).prependTo log\r\n\t\t\t$(element).scrollTop $(element)[0].scrollHeight\r\n\t\tname = attrs.name||'console'\r\n\t\t# SocketConnect.on(name, addData)\r\n\t\t# # 销毁监听\r\n\t\t# scope.$on '$destroy', ->\r\n\t\t# \tSocketConnect.removeEventListener name, addData\r\n\t\tscope.$on 'console:'+name, (event, data)->\r\n\t\t\taddData data","# use:\r\n# <form ng-submit=\"save()\" method=\"post\" on-ctrl-s=\"save()\">\r\n\r\napp.directive \"onCtrlS\", ->\r\n\tpriority: 100\r\n\trestrict: \"AE\"\r\n\tscope:\r\n\t\tonCtrlS: \"&\" #做为函数体执行\r\n\tlink: (scope, element, attrs)->\r\n\t\t$(element).bind 'keydown', (e)->\r\n\t\t\tif(e.ctrlKey && e.keyCode == 83)\r\n\t\t\t\t# console.log 'onCtrlS'\r\n\t\t\t\tscope.$apply ->\r\n\t\t\t\t\tscope.onCtrlS()\r\n\t\t\t\te.preventDefault()\r\n\t\tscope.$on '$destroy', ->\r\n\t\t\t$(element).unbind 'keydown'","\r\napp.config ($stateProvider, $urlRouterProvider) ->\r\n\t$stateProvider.state(\"schema\",\r\n\t\turl: \"/schema\"\r\n\t\tviews:\r\n\t\t\tcontainer:\r\n\t\t\t\ttemplateUrl: \"templates/schemas/layout.html\"\r\n\t).state(\"schema.index\",\r\n\t\turl: \"/index\"\r\n\t\tviews:\r\n\t\t\tcontainer:\r\n\t\t\t\ttemplateUrl: \"templates/schemas/schema-form.html\"\r\n\t)","\r\napp.config ($stateProvider, $urlRouterProvider) ->\r\n\t$stateProvider.state(\"site\",\r\n\t\turl: \"/site\"\r\n\t\tviews:\r\n\t\t\tcontainer:\r\n\t\t\t\ttemplateUrl: \"templates/site/layout.html\"\r\n\t).state(\"site.index\",\r\n\t\turl: \"/index\"\r\n\t\tviews:\r\n\t\t\tcontainer:\r\n\t\t\t\ttemplateUrl: \"templates/site/index.html\"\r\n\t)","\r\napp.factory 'CoAuth', ()->\r\n\treturn @","###\r\nJSON格式化与缩进显示\r\n###\r\napp.factory 'FormatJsonView', ()->\r\n\tformatJson = (json, options) ->\r\n\t\treg = null\r\n\t\tformatted = \"\"\r\n\t\tpad = 0\r\n\t\tPADDING = \"    \" # one can also use '\\t' or a different number of spaces\r\n\t\t\r\n\t\t# optional settings\r\n\t\toptions = options or {}\r\n\t\t\r\n\t\t# remove newline where '{' or '[' follows ':'\r\n\t\toptions.newlineAfterColonIfBeforeBraceOrBracket = (if (options.newlineAfterColonIfBeforeBraceOrBracket is true) then true else false)\r\n\t\t\r\n\t\t# use a space after a colon\r\n\t\toptions.spaceAfterColon = (if (options.spaceAfterColon is false) then false else true)\r\n\t\t\r\n\t\t# begin formatting...\r\n\t\tif typeof json isnt \"string\"\r\n\t\t\t\r\n\t\t\t# make sure we start with the JSON as a string\r\n\t\t\tjson = JSON.stringify(json)\r\n\t\telse\r\n\t\t\t\r\n\t\t\t# is already a string, so parse and re-stringify in order to remove extra whitespace\r\n\t\t\tjson = JSON.parse(json)\r\n\t\t\tjson = JSON.stringify(json)\r\n\t\t\r\n\t\t# add newline before and after curly braces\r\n\t\treg = /([\\{\\}])/g\r\n\t\tjson = json.replace(reg, \"\\r\\n$1\\r\\n\")\r\n\t\t\r\n\t\t# add newline before and after square brackets\r\n\t\treg = /([\\[\\]])/g\r\n\t\tjson = json.replace(reg, \"\\r\\n$1\\r\\n\")\r\n\t\t\r\n\t\t# add newline after comma\r\n\t\treg = /(\\,)/g\r\n\t\tjson = json.replace(reg, \"$1\\r\\n\")\r\n\t\t\r\n\t\t# remove multiple newlines\r\n\t\treg = /(\\r\\n\\r\\n)/g\r\n\t\tjson = json.replace(reg, \"\\r\\n\")\r\n\t\t\r\n\t\t# remove newlines before commas\r\n\t\treg = /\\r\\n\\,/g\r\n\t\tjson = json.replace(reg, \",\")\r\n\t\t\r\n\t\t# optional formatting...\r\n\t\tunless options.newlineAfterColonIfBeforeBraceOrBracket\r\n\t\t\treg = /\\:\\r\\n\\{/g\r\n\t\t\tjson = json.replace(reg, \":{\")\r\n\t\t\treg = /\\:\\r\\n\\[/g\r\n\t\t\tjson = json.replace(reg, \":[\")\r\n\t\tif options.spaceAfterColon\r\n\t\t\treg = /\\:/g\r\n\t\t\tjson = json.replace(reg, \": \")\r\n\t\t$.each json.split(\"\\r\\n\"), (index, node) ->\r\n\t\t\ti = 0\r\n\t\t\tindent = 0\r\n\t\t\tpadding = \"\"\r\n\t\t\tif node.match(/\\{$/) or node.match(/\\[$/)\r\n\t\t\t\tindent = 1\r\n\t\t\telse if node.match(/\\}/) or node.match(/\\]/)\r\n\t\t\t\tpad -= 1  if pad isnt 0\r\n\t\t\telse\r\n\t\t\t\tindent = 0\r\n\t\t\ti = 0\r\n\t\t\twhile i < pad\r\n\t\t\t\tpadding += PADDING\r\n\t\t\t\ti++\r\n\t\t\tformatted += padding + node + \"\\r\\n\"\r\n\t\t\tpad += indent\r\n\r\n\t\tformatted","app.factory 'SocketConnect', ()->\r\n\t_handlers = {}\r\n\tsocket = $(document)\r\n\tsocket.emit = (event_name, data)->\r\n\t\tconsole.log event_name,data\r\n\t\tsocket.trigger event_name, data\r\n\r\n\t# socket = io.connect(\"http://127.0.0.1:1000/\")\r\n\tsocket.on \"error\", (err) ->\r\n\t\tconsole.log \"err\", err, err.stack\r\n\r\n\tsocket.on \"console\", (data) ->\r\n\t\tconsole.log data\r\n\treturn socket","app.factory 'WindowInfo', ($rootScope)->\r\n\tths = @\r\n\tths.height = $(window).height()\r\n\tths.width = $(window).width()\r\n\t$(window).resize ->\r\n\t\t$rootScope.$apply ->\r\n\t\t\tths.height = $(@).height()\r\n\t\t\tths.width = $(@).width()\r\n\tths"],"sourceRoot":"/source/"}